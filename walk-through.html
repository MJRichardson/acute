<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Acute : The ubiquity of HTML with the productivity of C#." />

	<!-- twitter bootstrap -->
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="acute-doc.js"></script>

	<link rel="stylesheet" href="stylesheets/acute-doc.css">

    <title>WalkThrough - Acute</title>
  </head>

  <body> 
	  <div id="navbar"></div>

	  <div class="container">

		  <div class="row">
			  <!-- scrollspy nav -->
			  <div class="col-md-3">
				  <div id="contents-menu">
					  <ul  class="nav nav-pills nav-stacked">
						  <li><a href="#create-solution">Create Solution</a></li>
						  <li><a href="#create-web-project">Create Web Project</a></li>
						  <li><a href="#add-static-html">Add Static HTML</a></li>
						  <li><a href="#create-acute-project">Create Acute Project</a></li>
						  <li><a href="#add-acute-nuget-package">Add Acute Nuget Package</a></li>
						  <li><a href="#create-client-application">Create Client Application</a></li>
						  <li><a href="#create-controller">Create Controller</a></li>
						  <li><a href="#create-template">Create Template</a></li>
					  </ul>
				  </div>
			  </div>

			  <div class="col-md-9">
				  <div id="page-header" class="page-header">
					  <h1>Walk-Through <small>Creating an Acute-powered application</small></h1>
				  </div>

				  <div id="create-solution" class="walk-through-step">
					  <h3>Create Solution</h3>
					  <p>We'll begin by creating an empty solution in Visual Studio. The following instructions assume Visual Studio 2012, but other versions should be close enough.</p>
					  <p><kbd>File</kbd> -> <kbd>New</kbd> -> <kbd>Project</kbd>.</p>
					  <p>Choose <kbd>Templates</kbd> -> <kbd>Other Project Types</kbd> -> <kbd>Visual Studio Solutions</kbd>, and select <kbd>Blank Solution</kbd>.</p>
					  <p>For the name, we'll use <kbd>Acme</kbd>.</p>
					  <img src="images/walk-through-create-solution.png"/>
				  </div>

				  <div id="create-web-project" class="walk-through-step">
					  <h3>Create Web Project</h3>
					  <p>Now we need to create a web project to serve our content.</p>
					  <p>Right Click on the solution.</p>
					  <p><kbd>Add</kbd> --> <kbd>New Project</kbd></p>
					  <p>Select <kbd>Visual C#</kbd> --> <kbd>Web</kbd></p>
					  <p>We'll select <kbd>ASP.NET MVC 4 Web Application</kbd>.  For the moment, an empty project would suffice, but later we will add some services using Web API controllers. </p>
					  <p>Name the project <kbd>Acme.Web</kbd></p>
					  <img src="images/walk-through-create-web-project.png"/>
					  <p>When Visual Studio prompts you to select a template, choose <kbd>Empty</kbd></p>
					  <img src="images/walk-through-create-web-project-2.png"/>
				  </div>

				  <div id="add-static-html" class="walk-through-step">
					  <h3>Add Static HTML</h3>
					  <p>To start, let's add a plain old static HTML page, called <kbd>index.html</kbd> to the Acme.Web project.</p>
					  <pre>
&lt;html&gt;
    
    &lt;head&gt;
        &lt;title&gt;Products - Acme Corporation&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        
        &lt;h1&gt;Acme Corporation&lt;/h1&gt;
        
        &lt;h2&gt;Products&lt;/h2&gt;
        
        &lt;div&gt;
            &lt;h3&gt;Giant Rubber-Band&lt;/h3&gt; 
            &lt;p&gt;Perfect for tripping Road Runners&lt;/p&gt;
        &lt;/div&gt; 

    &lt;/body&gt;

&lt;/html&gt;
					  </pre>

					  <p>We will progressively enhance this Acme product-catalog.</p>
				  </div>

				  <div id="create-acute-project" class="walk-through-step">
					  <h3>Create Acute Project</h3>
					  <p>OK, now we get to the interesting stuff. Let's create our dynamic client application, powered by Acute.</p>
					  <p>Create a class-library project:</p>
					  <p>Right Click on the solution.</p>
					  <p><kbd>Add</kbd> --> <kbd>New Project</kbd></p>
					  <p>Select <kbd>Visual C#</kbd> --> <kbd>Class Library</kbd></p>
					  <p>Name the project <kbd>Acme.Client</kbd></p>
					  <img src="images/walk-through-create-client-project.png"/>
					  <p>Remove the generated Class1.cs file from the project.</p>
				  </div>

				  <div id="add-acute-nuget-package" class="walk-through-step">
					  <h3>Add Acute Nuget Package</h3>
					  <p>Open the Package Manager Console (<kbd>Tools</kbd> -> <kbd>Library Package Manager</kbd> -> <kbd>Package Manager Console</kbd></p>
					  <p>Enter <kbd>Install-Package Acute -Project Acme.Client</kbd> into the Package Manager Console</p>
					  <p>This should successfully add the Acute and Acute.Library packages.</p>
				  </div>

				  <div id="create-client-application" class="walk-through-step">
					  <h3>Create Client Application</h3>
					  <p>Now we will create the class that represents our application.</p>
					  <p>Add a new class named <kbd>App</kbd> to the project.</p>
					  <pre>
namespace Acme.Client
{
    public class App : Acute.App
    {
    }
}
					  </pre>
					  <p>Inheriting from <code>Acute.App</code> marks this class as being the application.</p>

				  </div>

				  <div id="create-controller" class="walk-through-step">
					  <h3>Create Controller</h3>
					  <p>It's time to put the <em>C</em> in <em>MVC</em>.</p>
					  <p>See <a href="concepts.html#controllers">Concepts - Controllers</a> for an understanding of the role controllers play in an Acute application.</p>
					  <p>But before that, let's create a class <kbd>Product</kbd> (because we're C# folks, and we like types). </p>
					  <pre>
namespace Acme.Client
{
	public class Product
	{
		public int Id { get; set; }
		public string Name { get; set; }
		public string Description { get; set; }
		public decimal Price { get; set; }
	}
}
					  </pre>
					  <p>Now create a <kbd>ProductsController</kbd> class.</p>
					  <pre>
using Acute;

namespace Acme.Client
{
    public class ProductsController : Controller
    {
        public override void Control(dynamic scope)
        {
	    scope.Products = new Product[]
		{
		   new Product{
		       Id =1, 
		       Name="Giant Rubber-Band", 
		       Description = "Perfect for tripping Road Runners", 
		       Price = 9.99m},  

		   new Product{
		       Id =2, 
		       Name="Earthquake Pills", 
		       Description = "Why wait? Make your own earthquakes - loads of fun!", 
		       Price = 11.00m },  

		   new Product{
		       Id =3, 
		       Name="Explosive Tennis Balls", 
		       Description = "Tickle your friends! Surprise your opponent!", 
		       Price = 25.40m }  
		};
        }
    }
}
					  </pre>

					  <p>Modify index.html like so:</p>
					  <pre>
&lt;html acute-app="Acme.Client.App"&gt;
    
    &lt;head&gt;
        &lt;title&gt;Products - Acme Corporation&lt;/title&gt;
        
        &lt;script type="text/javascript" src="acute.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="Acme.Client.js"&gt;&lt;/script&gt;
    &lt;/head&gt;

    &lt;body acute-controller="Acme.Client.ProductsController"&gt;
        
        &lt;h1&gt;Acme Corporation&lt;/h1&gt;
        
        &lt;h2&gt;Products&lt;/h2&gt;
        
        &lt;div&gt;
            &lt;h3&gt;Giant Rubber-Band&lt;/h3&gt; 
            &lt;p&gt;Perfect for tripping Road Runners&lt;/p&gt;
        &lt;/div&gt; 

    &lt;/body&gt;

&lt;/html&gt;
					  </pre>

					  <p>Note that we've added the <code>acute-controller</code> attribute to <code>body</code>.</p>
					  <p>This is a <a href="concepts.html#directives">directive</a>. We'll see more of them later. The important thing to know for now is that this attaches the controller to the view.</p>
				  </div>
					  
				  <div id="create-template" class="walk-through-step">
					  <h3>Create Template</h3>
					  <p>It's time for our static-HTML-content caterpillar to metamorphose into a template butterfly.</p>
					  <p>So let's put the <em>V</em> in <em>MVC</em>.</p>
					  <p>Modify index.html like so:</p>
					  <pre>
&lt;html acute-app="Acme.Client.App"&gt;
    
    &lt;head&gt;
        &lt;title&gt;Products - Acme Corporation&lt;/title&gt;
        
        &lt;script type="text/javascript" src="acute.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="Acme.Client.js"&gt;&lt;/script&gt;
    &lt;/head&gt;

    &lt;body acute-controller="Acme.Client.ProductsController"&gt;
        
        &lt;h1&gt;Acme Corporation&lt;/h1&gt;
        
        &lt;h2&gt;Products&lt;/h2&gt;
        
        &lt;div acute-repeat="product in Products"&gt;
            &lt;h3&gt;{{product.Name}} - {{product.Price | currency}}&lt;/h3&gt; 
            &lt;p&gt;{{product.Description}}&lt;/p&gt;
        &lt;/div&gt;

    &lt;/body&gt;

&lt;/html&gt;
					  </pre>
					  <p>We've replaced the static-content with a <a href="concepts.html#templates">template</a>, and use the <a href="">repeat directive</a> to bind the template to the products list created by our controller.</p>
					  <p ><span class="label label-info">Information:</span> <code>{{product.Price | current}}</code> is an example of a <a href="concepts.html#filters">filter</a>.</p>

				  </div>

			  </div>
		  </div>
	  <script type="text/javascript">
		  $(function(){
			loadNavbar('learn');
			$('body').scrollspy({target: '#contents-menu' });
			$('#contents-menu').affix();
		  });
	  </script>
  </body>
</html>
